<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MauiAppIntentsSample.ViewModels"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             x:Class="MauiAppIntentsSample.Views.TaskDetailPage"
             x:DataType="vm:TaskDetailViewModel"
             Title="{Binding IsEditing, Converter={StaticResource BoolToEditTitleConverter}}">

    <ScrollView Padding="16">
        <VerticalStackLayout Spacing="16">

            <VerticalStackLayout Spacing="4">
                <Label Text="Title" FontSize="14" TextColor="Gray" />
                <Entry Text="{Binding Title}" Placeholder="Task title..." FontSize="16" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="4">
                <Label Text="Notes" FontSize="14" TextColor="Gray" />
                <Editor Text="{Binding Notes}" Placeholder="Add notes..." HeightRequest="80"
                        FontSize="14" />
            </VerticalStackLayout>

            <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                <VerticalStackLayout Spacing="4">
                    <Label Text="Priority" FontSize="14" TextColor="Gray" />
                    <Picker ItemsSource="{Binding PriorityValues}"
                            SelectedItem="{Binding Priority}" />
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1" Spacing="4">
                    <Label Text="Category" FontSize="14" TextColor="Gray" />
                    <Picker ItemsSource="{Binding CategoryValues}"
                            SelectedItem="{Binding Category}" />
                </VerticalStackLayout>
            </Grid>

            <VerticalStackLayout Spacing="4">
                <Label Text="Due Date" FontSize="14" TextColor="Gray" />
                <DatePicker Date="{Binding DueDate}" MinimumDate="{x:Static sys:DateTime.Today}" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="4">
                <Label Text="Estimated Minutes" FontSize="14" TextColor="Gray" />
                <Entry Text="{Binding EstimatedMinutes}" Placeholder="e.g. 30"
                       Keyboard="Numeric" FontSize="16" />
            </VerticalStackLayout>

            <Grid ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,20,0,0">
                <Button Text="Cancel" Command="{Binding CancelCommand}"
                        BackgroundColor="Gray" TextColor="White" />
                <Button Grid.Column="1" Text="Save" Command="{Binding SaveCommand}" />
            </Grid>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
